<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<link rel="stylesheet" href="css/mui.min.css" />
		<style>
			.uploadImg{
				width: 50px;
				height: 50px;
				border: 1px solid #ccc;
			}
		</style>
	</head>
	<body>
		<!--<header class="mui-bar mui-bar-nav">
			  <a class="mui-icon mui-icon-left-nav mui-pull-left"></a>
			  <h1 class="mui-title">发表</h1>
		</header>-->
		<div class="mui-content">
			<div class="mui-content-padded" style="margin: 10px;">
				<p>在这里分享你发现的美食</p>
				<div class="mui-input-row">
					<textarea id="textarea" rows="5" placeholder="多行文本框"></textarea>
				</div>
				<img class="uploadImg" src="img/iconfont-tianjia.png" id="uploadBtn"/>
				   <button type="button" class="mui-btn mui-btn-success mui-btn-block">Block button</button>
			</div>
		</div>
		<script type="text/javascript" src="js/mui.min.js"></script>
		<script type="text/javascript" src="js/jquery-1.8.3.min.js"></script>
		<script>
			mui.init();
			mui.plusReady(function(){
				mui('body').on('tap','#uploadBtn',function(){
					selectImg();
				})
			})
			
			function selectImg(){
				var buttons=[{title:"相册"},{title:"拍照"}];
				plus.nativeUI.actionSheet({title:"图片选择",cancel:'取消',buttons:buttons},function(e){
					var index=e.index;
					switch (e.index){
						case 0:
						   break;
						case 1:
						   //打开相册
						   getGallery()
						   break;
						case 2:
						   //打开相机
						   getImage()
						   break;
					}
				})
			}
			function getGallery(){
				plus.gallery.pick(function(file){
					//输出图片路径
					console.log(file);
				},function(err){
					console.log("wrong")
				})
			}
			function getImage(){
				var cmr=plus.camera.getCamera();
				 var res=cmr.supportedImageResolutions[0];
				 var fmt=cmr.supportedImageFormats[0];
				 cmr.captureImage(function(path){
				 	console.log(path);				 	
				 },
				 function(err){
				 	console.log(err.message);
				 },
				 {resolution:res,
				 format:fmt
				 }
			  );
			}
		</script>
	</body>
</html>
